{"version":3,"sources":["product.js","index.js"],"names":["getRandom","min","max","Math","round","random","createHtmlElement","elementName","className","innerHTML","Object","assign","document","createElement","createParagraph","createSpan","createDiv","createProductCode","code","parseInt","createProductStatus","status","createProductImage","img","slice","createProductDescription","description","createUnits","unitAlt","unit","createProductPrice","productType","priceType","paymentMethod","price","parseFloat","toFixed","createSpanRouble","useType","createProductPricePoints","score","createUnitPad","createUnitDesc","unitRatioAlt","createProductWrapper","createProductCountWrapper","createButton","createPages","unitHandler","e","product","target","current","parentNode","active","querySelector","classList","toggle","arrowHandler","counter","arrow","value","contains","count","input","Event","dispatchEvent","changeHandler","prices","pricesComponents","console","log","forEach","element","index","childNodes","innerText","createProduct","productId","title","primaryImageUrl","priceRetail","priceGold","priceRetailAlt","priceGoldAlt","isActive","productComponent","productCode","productStatus","productImage","productDescription","productUnits","addEventListener","productPriceDefault","appendChild","productPriceClub","productPricePackage","productPricePackageClub","productPoints","productUnitPad","productUnitDesc","productWrapper","productCountWrapper","productButton","setAttribute","append","productsSection","productsPages","currentPage","page_counter","product_counter","createNewPage","addButton","newPage","hidden","number","pageButton","pageChangeHandler","pageNumber","nextPage","remove","add","window","scrollTo","fetch","method","headers","then","res","json","data","products"],"mappings":"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","file":"all.js","sourcesContent":["/**Make random bonus score */\r\nconst getRandom = (min, max) => Math.round(Math.random() * (max - min) + min);\r\n/**---For generating dom objects---*/\r\nconst createHtmlElement = elementName => (className, innerHTML = '') => Object.assign(document.createElement(elementName), { className, innerHTML });\r\nconst createParagraph = createHtmlElement('p');\r\nconst createSpan = createHtmlElement('span');\r\nconst createDiv = createHtmlElement('div');\r\n/**---Partials of product component---*/\r\nconst createProductCode = code => createDiv('product_code', `Код:${parseInt(code)}`);\r\nconst createProductStatus = status => createDiv('product_status_tooltip_container', `<span class=\"product_status\">${status ? \"Наличие\" : \"Нет в наличие\"}</span>`);\r\nconst createProductImage = img => createDiv(\r\n    'product_photo',\r\n    `<a href=\"#\" class=\"url--link product__link\">\r\n        <img src=\"${img.slice(0, -4)}_220x220_1.jpg\">\r\n    </a>`\r\n);\r\nconst createProductDescription = description => createDiv(\r\n    'product_description',\r\n    `\r\n    <a href=\"#\" class=\"product__link\">\r\n        ${description}\r\n    </a>`\r\n);\r\nconst createUnits = (unitAlt, unit) => createDiv('product_units', `\r\n    <div class=\"unit--wrapper\">\r\n        <div class=\"unit--select unit--active\">\r\n            <p class=\"ng-binding\">За ${unitAlt}</p>\r\n        </div>\r\n        <div class=\"unit--select\">\r\n          <p class=\"ng-binding\">За ${unit}</p>\r\n        </div>\r\n    </div>\r\n`);\r\nconst createProductPrice = (productType, priceType, paymentMethod, price) => createParagraph(`product_price_${productType}`, `\r\n<span class=\"product_price_${productType}_text\">\r\n    ${paymentMethod}\r\n</span>\r\n<span class=\"${priceType}\">\r\n    ${parseFloat(price).toFixed(2)}\r\n</span>\r\n`);\r\nconst createSpanRouble = (useType) => createSpan('rouble__i black__i', `\r\n<svg\r\nversion=\"1.0\"\r\nid=\"rouble__b\"\r\nxmlns=\"http://www.w3.org/2000/svg\"\r\nx=\"0\"\r\ny=\"0\"\r\nwidth=\"30px\"\r\nheight=\"22px\"\r\nviewBox=\"0 0 50 50\"\r\nenable-background=\"new 0 0 50 50\"\r\nxml:space=\"preserve\"\r\n>\r\n  <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n  xlink:href=\"#${useType}\">\r\n  </use>\r\n  </svg>\r\n</span>`);\r\nconst createProductPricePoints = score => createDiv('product_price_points', `\r\n    <p class=\"ng-binding\">Можно купить за ${score} балла</p>\r\n`)\r\nconst createUnitPad = () => createDiv('list--unit-padd');\r\nconst createUnitDesc = (unit, unitRatioAlt, unitAlt) => createDiv('list--unit-desc', `\r\n<div class=\"unit--info\">\r\n    <div class=\"unit--desc-i\"></div>\r\n    <div class=\"unit--desc-t\">\r\n    <p>\r\n        <span class=\"ng-binding\">Продается упаковками:</span>\r\n        <span class=\"unit--infoInn\">1 ${unit} = ${parseFloat(unitRatioAlt).toFixed(2)} ${unitAlt}\r\n    </span>\r\n  </p>\r\n</div>\r\n`)\r\nconst createProductWrapper = () => createDiv('product__wrapper', ``)\r\nconst createProductCountWrapper = () => createDiv('product_count_wrapper', ` \r\n<div class=\"stepper\">\r\n    <input\r\n    class=\"product__count stepper-input\"\r\n    type=\"number\"\r\n    value=\"1\"\r\n    />\r\n    <span class=\"stepper-arrow up\"></span>\r\n    <span class=\"stepper-arrow down\"></span>\r\n</div>`);\r\nconst createButton = () => createSpan('btn btn_cart', `\r\n<svg class=\"ic ic_cart\">\r\n<use\r\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n  xlink:href=\"#cart\">\r\n</use>\r\n<span class=\"ng-binding\">В корзину</span>\r\n`);\r\nconst createPages = () => createDiv('products_pages');\r\n/**\r\n * event Handlers\r\n */\r\nconst unitHandler = (e, product) => {\r\n    if (e.target.className === 'ng-binding') {\r\n        const current = e.target.parentNode;\r\n        const active = product.querySelector('.unit--active');\r\n        current.classList.toggle('unit--active');\r\n        active.classList.toggle('unit--active');\r\n        product.classList.toggle('alt');\r\n    }\r\n}\r\nconst arrowHandler = (e, counter) => {\r\n    const arrow = e.target;\r\n    const value = parseInt(counter.value);\r\n    if (arrow.classList.contains('stepper-arrow')) {\r\n        let count = arrow.classList.contains('up') ? value + 1 : value - 1;\r\n        counter.value = count;\r\n        const input = new Event('input');\r\n        counter.dispatchEvent(input);\r\n    }\r\n}\r\nconst changeHandler = (e, prices, pricesComponents) => {\r\n    const value = e.target.value;\r\n    console.log(value);\r\n    if (parseInt(value) < 0) {\r\n        e.target.value = 1;\r\n        value = 1;\r\n    }\r\n    pricesComponents.forEach((element, index) => {\r\n        const price = (prices[index] * value).toFixed(2);\r\n        element.childNodes[3].innerText = price;\r\n    });\r\n\r\n}\r\n/**Building Product Component */\r\nconst createProduct = product => {\r\n    const { productId, code, title, primaryImageUrl, unit, unitRatioAlt, unitAlt, priceRetail, priceGold, priceRetailAlt, priceGoldAlt, isActive } = product;\r\n    const productComponent = createDiv('product product_horizontal alt', ``);\r\n    const productCode = createProductCode(code);\r\n    const productStatus = createProductStatus(isActive);\r\n    const productImage = createProductImage(primaryImageUrl);\r\n    const productDescription = createProductDescription(title);\r\n    const productUnits = createUnits(unitAlt, unit);\r\n    productUnits.addEventListener('click', (e) => unitHandler(e, productComponent));\r\n\r\n    const productPriceDefault = createProductPrice('default alternative', 'retailPrice', '', priceRetail);\r\n    productPriceDefault.appendChild(createSpanRouble('rouble_gray'));\r\n\r\n    const productPriceClub = createProductPrice('club_card alternative', 'goldPrice', 'По карте клуба', priceGold);\r\n    productPriceClub.appendChild(createSpanRouble('rouble_black'));\r\n\r\n    const productPricePackage = createProductPrice('default package', 'retailPrice', '', priceRetailAlt);\r\n    productPricePackage.appendChild(createSpanRouble('rouble_gray'));\r\n\r\n    const productPricePackageClub = createProductPrice('club_card package', 'goldPrice', 'По карте клуба', priceGoldAlt);\r\n    productPricePackageClub.appendChild(createSpanRouble('rouble_black'));\r\n\r\n    const productPoints = createProductPricePoints(getRandom(100, 400));\r\n    const productUnitPad = createUnitPad();\r\n    const productUnitDesc = createUnitDesc(unit, unitRatioAlt, unitAlt);\r\n\r\n    const productWrapper = createProductWrapper();\r\n    const productCountWrapper = createProductCountWrapper();\r\n    const counter = productCountWrapper.childNodes[1].childNodes[1];\r\n    counter.addEventListener('input', (e) => changeHandler(e, [priceRetail, priceRetailAlt, priceGold, priceGoldAlt], [productPriceDefault, productPricePackage, productPriceClub, productPricePackageClub]));\r\n    productCountWrapper.addEventListener('click', (e) => arrowHandler(e, counter));\r\n\r\n    const productButton = createButton();\r\n    productButton.setAttribute('data-url', '/cart/');\r\n    productButton.setAttribute('data-product-id', productId);\r\n    productWrapper.appendChild(productCountWrapper);\r\n    productWrapper.appendChild(productButton);\r\n    productComponent.append(\r\n        productCode, productStatus, productImage,\r\n        productDescription, productUnits,\r\n        productPricePackageClub, productPricePackage,\r\n        productPriceClub, productPriceDefault,\r\n        productPoints, productUnitPad,\r\n        productUnitDesc, productWrapper\r\n    );\r\n    return productComponent;\r\n}\r\n","const productsSection = document.querySelector('#products_section');\r\nconst productsPages = createPages();\r\nlet currentPage = document.querySelector('.pg_0');\r\nlet page_counter = 1;\r\nlet product_counter = 0;\r\nconst createNewPage = () => {\r\n    addButton(page_counter);\r\n    const newPage = createDiv(`products_page pg_${page_counter++}`)\r\n    newPage.hidden = true;\r\n    productsSection.appendChild(newPage);\r\n    currentPage = newPage;\r\n}\r\nconst addButton = (number) => {\r\n    const pageButton = document.createElement('button');\r\n    pageButton.innerText = number;\r\n    pageButton.addEventListener('click', pageChangeHandler);\r\n    productsPages.appendChild(pageButton);\r\n}\r\nconst pageChangeHandler = (e) => {\r\n    const pageNumber = parseInt(e.target.innerText) - 1;\r\n    const currentPage = document.querySelector('.current_page');\r\n    const nextPage = document.querySelector(`.pg_${pageNumber}`)\r\n    currentPage.classList.remove('current_page');\r\n    nextPage.classList.add('current_page');\r\n    currentPage.hidden = true;\r\n    nextPage.hidden = false;\r\n    window.scrollTo(0, 0);\r\n}\r\n/**Load data after document is fully load*/\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    fetch('products.json', {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-type\": \"application/json\",\r\n        }\r\n    })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            const products = data;\r\n            products.forEach(element => {\r\n                if (product_counter > 9) {\r\n                    createNewPage();\r\n                    product_counter = 0;\r\n                }\r\n                const product = createProduct(element);\r\n                currentPage.appendChild(product);\r\n                product_counter++;\r\n            });\r\n            productsSection.appendChild(productsPages);\r\n        });\r\n\r\n});\r\n"]}